---
import { siteConfig } from '../config.js';
---

<section class="py-20 relative overflow-hidden">
  <div class="max-w-7xl mx-auto px-6">
    <div class="glass rounded-3xl p-12 gradient-bg-subtle">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
        {siteConfig.stats.map((stat, index) => (
          <div class="text-center group" style={`animation-delay: ${index * 0.1}s;`}>
            <div class="w-16 h-16 mx-auto mb-4 glass rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform glow-hover">
              <i class={`${stat.icon} text-2xl gradient-text`}></i>
            </div>
            <div class="text-4xl font-display font-bold mb-2 gradient-text counter" data-target={stat.value}>
              0
            </div>
            <div class="text-sm text-text-secondary">{stat.label}</div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<script>
  // Simple counter animation
  document.addEventListener('DOMContentLoaded', () => {
    const counters = document.querySelectorAll('.counter');
    
    const animateCounter = (counter: Element) => {
      const target = counter.getAttribute('data-target') || '0';
      const numericValue = parseInt(target.replace(/\D/g, ''));
      const suffix = target.replace(/[0-9]/g, '');
      const duration = 2000;
      const increment = numericValue / (duration / 16);
      let current = 0;

      const updateCounter = () => {
        current += increment;
        if (current < numericValue) {
          counter.textContent = Math.floor(current) + suffix;
          requestAnimationFrame(updateCounter);
        } else {
          counter.textContent = target;
        }
      };

      updateCounter();
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCounter(entry.target);
          observer.unobserve(entry.target);
        }
      });
    });

    counters.forEach(counter => observer.observe(counter));
  });
</script>
